{% extends 'base.html' %}
{% block title %}Results{% endblock %}


{% block content %}

<div class="results-section">
    <h1 class="pb-2">RESULTS</h1>
    <div class="filter-items">
        <div class="row">
            <div>
                <p><b>VideoName: </b>{{ search }}</p> 
            </div>
            <div class="mr ml">|</div>
            <div>
                <p><b>Location: </b>{{ location }}</p>
            </div>
            <div class="mr ml">|</div>
            <div>
                <p><b>Subscribers: </b>{{ min_subs }}-{{ max_subs }}</p>
            </div>
        </div>
    </div>
    <div class="filter-post">
        <div class="row space-between">
            {% for result in results %}
            <div class="post-item" data-aos="fade-up">
                <div class="post-img">
                    <iframe src="https://youtube.com/embed/{{ result.video_id }}" frameborder="0" allow="accelormeter" allowfullscreen></iframe>
                </div>
                <div class="post-info">
                    <p><b>Title: </b>
                        <span><a href="{{ result.video_link }}" target="_blank">{{ result.title }}...</a></span>
                    </p>
                    <p><b>Channel: </b> <span><a href="{{ result.channel_link }}" target="_blank">{{ result.channel }}</a></span></p>
                    <p><b>Subscribers: </b> <span>{{ result.subscribers }}</span></p>
                </div>
            </div>
            {% endfor %}

            {% if not request.user.is_authenticated %}
                <div class="mt-3">
                    <div class="row justify-center">
                        <div class="login-info">
                            <p>
                                <a href="{% url 'login' %}">Login</a> or <a href="{% url 'register' %}">Sign Up</a> to see more results.
                            </p>
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</div>

{% endblock %}

{% block script %}
    <script>
        AOS.init({
            duration: 2000
        })
    </script>
{% endblock %}